{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080/api/v1","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/api/users/{user_id}/profile":{"get":{"tags":["user-controller"],"operationId":"getProfile","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileDTO"}}}}}},"put":{"tags":["user-controller"],"operationId":"updateProfile","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDTO"}}}}}}},"/api/appointments/{appointment_id}/reschedule":{"put":{"tags":["appointment-controller"],"operationId":"rescheduleAppointment","parameters":[{"name":"appointment_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RescheduleAppointmentDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDTO"}}}}}}},"/api/webhook":{"post":{"tags":["webhook-controller"],"operationId":"recibirNotificacion","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/payments/create/{appointmentId}":{"post":{"tags":["payment-controller"],"operationId":"iniciarPago","parameters":[{"name":"appointmentId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/clinical":{"post":{"tags":["clinical-record-controller"],"operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClinicalRecordRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDTO"}}}}}}},"/api/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserResponseDTO"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDTO"}}}}}}},"/api/auth/forgot-password":{"post":{"tags":["auth-controller"],"operationId":"forgotPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDTO"}}}}}}},"/api/auth/change-password":{"post":{"tags":["auth-controller"],"operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDTO"}}}}}}},"/api/appointments":{"get":{"tags":["appointment-controller"],"operationId":"getAgenda","parameters":[{"name":"date","in":"query","required":true,"schema":{"type":"string"}},{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentAgendaDTO"}}}}}}},"post":{"tags":["appointment-controller"],"operationId":"createAppointment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentResponseDTO"}}}}}}},"/api/users/{user_id}/payments":{"get":{"tags":["user-controller"],"operationId":"getUserPayments","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserPaymentDTO"}}}}}}}},"/api/users/{user_id}/appointments":{"get":{"tags":["user-controller"],"operationId":"getUserAppointments","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserAppointmentDTO"}}}}}}}},"/api/payments/{payment_id}":{"get":{"tags":["payment-controller"],"operationId":"getPayment","parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentDetailDTO"}}}}}}},"/api/clinical/{user_id}":{"get":{"tags":["clinical-record-controller"],"operationId":"get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClinicalRecordDTO"}}}}}}},"/api/appointments/available-slots":{"get":{"tags":["appointment-controller"],"operationId":"getAvailableSlots","parameters":[{"name":"dentistId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"fecha","in":"query","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TimeSlotDTO"}}}}}}}}},"components":{"schemas":{"UpdateProfileDTO":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"}}},"MessageResponseDTO":{"type":"object","properties":{"message":{"type":"string"}}},"RescheduleAppointmentDTO":{"type":"object","properties":{"newDate":{"type":"string","format":"date-time"}}},"ClinicalRecordRequestDTO":{"type":"object","properties":{"userId":{"type":"integer","format":"int32"},"allergies":{"type":"string"},"medicalHistory":{"type":"string"},"familyHistory":{"type":"string"},"treatmentPlan":{"type":"string"},"evolutionNotes":{"type":"string"}}},"RegisterUserRequestDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"},"birthDate":{"type":"string","format":"date"},"dni":{"type":"string"}}},"RegisterUserResponseDTO":{"type":"object","properties":{"message":{"type":"string"},"userId":{"type":"integer","format":"int32"}}},"LoginRequestDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"LoginResponseDTO":{"type":"object","properties":{"token":{"type":"string"},"user":{"$ref":"#/components/schemas/UserLoginDTO"}}},"UserLoginDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"email":{"type":"string"},"role":{"type":"string"}}},"ForgotPasswordDTO":{"type":"object","properties":{"email":{"type":"string"}}},"ChangePasswordDTO":{"type":"object","properties":{"currentPassword":{"type":"string"},"newPassword":{"type":"string"}}},"AppointmentRequestDTO":{"type":"object","properties":{"appointmentDate":{"type":"string","format":"date-time"},"serviceId":{"type":"integer","format":"int32"},"reason":{"type":"string"},"patientId":{"type":"integer","format":"int32"},"dentistId":{"type":"integer","format":"int32"}}},"AppointmentResponseDTO":{"type":"object","properties":{"message":{"type":"string"},"appointmentId":{"type":"integer","format":"int64"}}},"UserProfileDTO":{"type":"object","properties":{"userId":{"type":"integer","format":"int32"},"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"},"birthDate":{"type":"string","format":"date"},"dni":{"type":"string"},"role":{"type":"string"}}},"UserPaymentDTO":{"type":"object","properties":{"paymentId":{"type":"integer","format":"int32"},"appointmentId":{"type":"integer","format":"int32"},"amount":{"type":"number"},"paymentDate":{"type":"string","format":"date-time"},"status":{"type":"string"}}},"UserAppointmentDTO":{"type":"object","properties":{"appointmentId":{"type":"integer","format":"int32"},"appointmentDate":{"type":"string","format":"date-time"},"service":{"type":"string"},"status":{"type":"string"},"dentistName":{"type":"string"}}},"PaymentDetailDTO":{"type":"object","properties":{"paymentId":{"type":"integer","format":"int32"},"amount":{"type":"number"},"paymentDate":{"type":"string","format":"date-time"},"method":{"type":"string"},"status":{"type":"string"}}},"ClinicalRecordDTO":{"type":"object","properties":{"allergies":{"type":"string"},"medicalHistory":{"type":"string"},"familyHistory":{"type":"string"},"treatmentPlan":{"type":"string"},"evolutionNotes":{"type":"string"}}},"AppointmentAgendaDTO":{"type":"object","properties":{"appointmentId":{"type":"integer","format":"int32"},"appointmentDate":{"type":"string","format":"date-time"},"service":{"type":"string"},"status":{"type":"string"},"patientName":{"type":"string"},"dentistName":{"type":"string"}}},"TimeSlotDTO":{"type":"object","properties":{"hora":{"type":"string"},"disponible":{"type":"boolean"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}